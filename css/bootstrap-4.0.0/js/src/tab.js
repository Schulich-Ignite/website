import $ from"jquery";import Util from"./util";const Tab=(t=>{const e="bs.tab",a=t.fn.tab,n="active",s=".active",r="> li > .active";class i{constructor(t){this._element=t}static get VERSION(){return"4.0.0"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(n)||t(this._element).hasClass("disabled"))return;let e,a;const i=t(this._element).closest(".nav, .list-group")[0],o=Util.getSelectorFromElement(this._element);if(i){const e="UL"===i.nodeName?r:s;a=t.makeArray(t(i).find(e)),a=a[a.length-1]}const l=t.Event("hide.bs.tab",{relatedTarget:this._element}),d=t.Event("show.bs.tab",{relatedTarget:a});if(a&&t(a).trigger(l),t(this._element).trigger(d),d.isDefaultPrevented()||l.isDefaultPrevented())return;o&&(e=t(o)[0]),this._activate(this._element,i);const c=()=>{const e=t.Event("hidden.bs.tab",{relatedTarget:this._element}),n=t.Event("shown.bs.tab",{relatedTarget:a});t(a).trigger(e),t(this._element).trigger(n)};e?this._activate(e,e.parentNode,c):c()}dispose(){t.removeData(this._element,e),this._element=null}_activate(e,a,n){let i;i="UL"===a.nodeName?t(a).find(r):t(a).children(s);const o=i[0],l=n&&Util.supportsTransitionEnd()&&o&&t(o).hasClass("fade"),d=()=>this._transitionComplete(e,o,n);o&&l?t(o).one(Util.TRANSITION_END,d).emulateTransitionEnd(150):d()}_transitionComplete(e,a,s){if(a){t(a).removeClass("show "+n);const e=t(a.parentNode).find("> .dropdown-menu .active")[0];e&&t(e).removeClass(n),"tab"===a.getAttribute("role")&&a.setAttribute("aria-selected",!1)}if(t(e).addClass(n),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),Util.reflow(e),t(e).addClass("show"),e.parentNode&&t(e.parentNode).hasClass("dropdown-menu")){const a=t(e).closest(".dropdown")[0];a&&t(a).find(".dropdown-toggle").addClass(n),e.setAttribute("aria-expanded",!0)}s&&s()}static _jQueryInterface(a){return this.each((function(){const n=t(this);let s=n.data(e);if(s||(s=new i(this),n.data(e,s)),"string"==typeof a){if(void 0===s[a])throw new TypeError(`No method named "${a}"`);s[a]()}}))}}return t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',(function(e){e.preventDefault(),i._jQueryInterface.call(t(this),"show")})),t.fn.tab=i._jQueryInterface,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=a,i._jQueryInterface},i})($);export default Tab;